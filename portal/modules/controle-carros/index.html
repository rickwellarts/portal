<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Controle de Carros — CCE</title>
  <link rel="stylesheet" href="/assets/style.css" />
  <link rel="stylesheet" href="/modules/controle-carros/style.scoped.css" />
  <script type="module">
    import { renderNavbar, bindNavbar } from '/assets/ui.js';
    import { requireAuth } from '/assets/auth.js';
    window.addEventListener('DOMContentLoaded', ()=>{
      requireAuth();
      document.getElementById('nav-mount').innerHTML = renderNavbar('carros');
      bindNavbar();
    });
  </script>
</head>
<body class="app-bg">
  <div id="nav-mount"></div>

  <main class="container">
    <h1>Controle de Carros</h1>

    <section class="card-wrap">
      
      <form id="formCarro" class="grid">
        <div class="field">
          <label for="nome">Nome do Motorista</label>
          <input id="nome" type="text" placeholder="Nome do motorista" required />
        </div>

        <div class="field">
          <label for="sede">Sede</label>
          <!-- campo livre, com sugestões (datalist) -->
          <input id="sede" list="lista-sedes" type="text" placeholder="Ex.: IPG 01" required />
          
        </div>

        <div class="field">
          <label for="entrada">Entrada</label>
          <input id="entrada" type="time" required />
        </div>

        <div class="field">
          <label for="status">Status</label>
          <select id="status" required>
            <option>Disponível</option>
            <option>Em trânsito</option>
          </select>
        </div>

        <div class="actions">
          <button class="btn" type="submit">Inserir Carro</button>
        </div>
      </form>

      <div class="filters">
        <label for="filtroTurno" class="lbl">Filtrar por turno</label>
        <select id="filtroTurno" class="select-sm">
          <option value="">Todos</option>
          <option value="Turno 1">Turno 1</option>
          <option value="Turno 2">Turno 2</option>
          <option value="Turno 3">Turno 3</option>
        </select>
      </div>

      <div id="agrupamentoTurnos" class="groups"></div>

      <div class="end-actions">
        <button id="btnRel" class="btn">Gerar relatório</button>
        <button id="btnClear" class="btn ghost">Limpar tudo</button>
      </div>
    </section>
  </main>

  <!-- Modal CCE -->
  <div id="cce-modal" class="cce-modal" aria-hidden="true" role="dialog" aria-labelledby="cce-modal-title" aria-modal="true">
    <div class="cce-modal__backdrop" data-close="true"></div>
    <div class="cce-modal__dialog" role="document">
      <h3 id="cce-modal-title" class="cce-modal__title">Confirmação</h3>
      <p id="cce-modal-msg" class="cce-modal__msg">Mensagem…</p>
      <div class="cce-modal__actions">
        <button type="button" class="btn ghost" data-action="cancelar">Cancelar</button>
        <button type="button" class="btn" data-action="ok" id="cce-modal-ok">OK</button>
      </div>
      <button class="cce-modal__x" aria-label="Fechar" data-close="true">×</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="/modules/controle-carros/script.js"></script>
<script type="module" src="/assets/bridge-modules.js"></script>

</body>
</html>
